-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj\hdlsrc\combinedTxRx_ExternalMode\CombinedT_ip_src_Convert_Payload_Length_To_Bytes.vhd
-- Created: 2018-02-01 13:20:08
-- 
-- Generated by MATLAB 9.3 and HDL Coder 3.11
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: CombinedT_ip_src_Convert_Payload_Length_To_Bytes
-- Source Path: combinedTxRx_ExternalMode/Combined TX and RX/Receiver HDL/CRC Check and DMA Pack/DMA Interface/Convert 
-- Payload Length To Byte
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY CombinedT_ip_src_Convert_Payload_Length_To_Bytes IS
  PORT( In1                               :   IN    std_logic_vector(15 DOWNTO 0);  -- uint16
        packetLengthOut                   :   OUT   std_logic_vector(15 DOWNTO 0)  -- uint16
        );
END CombinedT_ip_src_Convert_Payload_Length_To_Bytes;


ARCHITECTURE rtl OF CombinedT_ip_src_Convert_Payload_Length_To_Bytes IS

  -- Signals
  SIGNAL In1_unsigned                     : unsigned(15 DOWNTO 0);  -- uint16
  SIGNAL Convert_To_Uncoded_out1          : unsigned(15 DOWNTO 0);  -- uint16
  SIGNAL Constant_out1                    : unsigned(15 DOWNTO 0);  -- uint16
  SIGNAL Remove_CRC_Length_out1           : unsigned(15 DOWNTO 0);  -- uint16
  SIGNAL Convert_To_Bytes_From_Bits_out1  : unsigned(15 DOWNTO 0);  -- uint16

BEGIN
  In1_unsigned <= unsigned(In1);

  Convert_To_Uncoded_out1 <= SHIFT_RIGHT(In1_unsigned, 1);

  Constant_out1 <= to_unsigned(16#001F#, 16);

  Remove_CRC_Length_out1 <= Convert_To_Uncoded_out1 - Constant_out1;

  Convert_To_Bytes_From_Bits_out1 <= SHIFT_RIGHT(Remove_CRC_Length_out1, 3);

  packetLengthOut <= std_logic_vector(Convert_To_Bytes_From_Bits_out1);

END rtl;

